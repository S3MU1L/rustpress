{% extends "layouts/base.html" %}

{% block title %}Dashboard - RustPress{% endblock %}

{% block header %}
{% include "partials/nav_admin.html" %}
{% endblock %}

{% block content %}
<div class="mb-8">
  <h1 class="mb-2">Dashboard</h1>
  <p class="text-rp-muted">Welcome to your RustPress admin area.</p>
</div>

<div class="grid md:grid-cols-2 gap-6">
  <!-- Posts Section -->
  <div class="card p-5">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-lg">Posts</h2>
      <a class="btn-primary" href="/admin/posts/new">Add New</a>
    </div>
    {% if posts.len() == 0 %}
      <p class="text-rp-muted py-4">No posts yet. Create your first post to get started.</p>
    {% else %}
      <ul class="divide-y divide-rp-border">
        {% for p in posts %}
          <li class="py-3 flex items-center justify-between">
            <a href="/admin/edit/{{ p.id }}" class="font-medium">{{ p.title }}</a>
            <span class="badge {% if p.status == "published" %}badge-success{% endif %}">{{ p.status }}</span>
          </li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>

  <!-- Pages Section -->
  <div class="card p-5">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-lg">Pages</h2>
      <a class="btn-primary" href="/admin/pages/new">Add New</a>
    </div>
    {% if pages.len() == 0 %}
      <p class="text-rp-muted py-4">No pages yet. Create your first page to get started.</p>
    {% else %}
      <ul class="divide-y divide-rp-border">
        {% for p in pages %}
          <li class="py-3 flex items-center justify-between">
            <a href="/admin/edit/{{ p.id }}" class="font-medium">{{ p.title }}</a>
            <span class="badge {% if p.status == "published" %}badge-success{% endif %}">{{ p.status }}</span>
          </li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>
</div>

<!-- Quick Links -->
<div class="mt-8 card p-5">
  <h2 class="text-lg mb-4">Quick Links</h2>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <a href="/admin/sites" class="p-4 rounded bg-rp-bg hover:bg-rp-border/30 text-center transition-colors">
      <div class="text-2xl mb-1">ğŸŒ</div>
      <div class="text-sm font-medium">Sites</div>
    </a>
    <a href="/admin/themes" class="p-4 rounded bg-rp-bg hover:bg-rp-border/30 text-center transition-colors">
      <div class="text-2xl mb-1">ğŸ¨</div>
      <div class="text-sm font-medium">Themes</div>
    </a>
    <a href="/admin/templates" class="p-4 rounded bg-rp-bg hover:bg-rp-border/30 text-center transition-colors">
      <div class="text-2xl mb-1">ğŸ“„</div>
      <div class="text-sm font-medium">Templates</div>
    </a>
    <a href="/" class="p-4 rounded bg-rp-bg hover:bg-rp-border/30 text-center transition-colors" target="_blank">
      <div class="text-2xl mb-1">ğŸ‘ï¸</div>
      <div class="text-sm font-medium">View Site</div>
    </a>
  </div>
</div>
{% endblock %}
